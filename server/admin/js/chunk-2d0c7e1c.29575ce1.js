(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7e1c"],{5308:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("h1",[e._v("dieshot列表")]),l("el-form",[l("el-form-item",{attrs:{label:"所属分类"}},[l("el-cascader",{attrs:{options:e.categories},on:{change:e.handleCategoryChange},model:{value:e.categoriVules,callback:function(t){e.categoriVules=t},expression:"categoriVules"}}),l("el-button",{attrs:{type:"primary"},on:{click:e.fetch}},[e._v("筛选")])],1)],1),l("el-table",{attrs:{data:e.items}},[l("el-table-column",{attrs:{prop:"_id",label:"ID",width:"250"}}),l("el-table-column",{attrs:{prop:"title",label:"文章标题"}}),l("el-table-column",{attrs:{prop:"createdAt",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("date")(t.row.createdAt,"YYYY-MM-DD HH:mm:ss"))+" ")]}}])}),l("el-table-column",{attrs:{prop:"updatedAt",label:"最后更新时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("date")(t.row.updatedAt,"YYYY-MM-DD HH:mm:ss"))+" ")]}}])}),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(l){return e.$router.push("/dieshot/edit/"+t.row._id)}}},[e._v(" 编辑 ")]),l("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(l){return e.remove(t.row._id)}}},[e._v(" 删除 ")])]}}])})],1)],1)},s=[],n={data(){return{items:[],categories:[{value:"CPU",label:"CPU",children:[{value:"Intel",label:"Intel"},{value:"AMD",label:"AMD"}]},{value:"GPU",label:"GPU",children:[{value:"Nvidia",label:"Nvidia"},{value:"Intel",label:"Intel"},{value:"AMD",label:"AMD"}]},{value:"Apple",label:"Apple"},{value:"协处理器",label:"协处理器"},{value:"其他",label:"其他"}],categoriVules:[]}},methods:{async fetch(){const e=await this.$http.get("/articles",{params:{category:this.categoriVules}});console.log("输出",e),this.items=e.data},remove(e){this.$confirm("是否确定要删除这篇文章?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await this.$http.delete("/articles/"+e),this.$message({type:"success",message:"删除成功!"}),await this.fetch()}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},handleCategoryChange(e){console.log("选择的分类值:",e),this.categoriVules=e}},created(){this.fetch()}},o=n,i=l("d34b"),c=Object(i["a"])(o,a,s,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0c7e1c.29575ce1.js.map