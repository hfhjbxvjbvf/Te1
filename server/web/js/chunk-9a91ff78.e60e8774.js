(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a91ff78"],{d2f1:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"main-container"},[a("el-carousel",{attrs:{interval:4e3,type:"card",height:"300px"}},t._l(t.slideshow,(function(t,s){return a("el-carousel-item",{key:s,staticClass:"carousel-item"},[a("img",{staticClass:"carousel-image",attrs:{src:t.image[0],alt:"Slideshow image"}})])})),1),a("div",{staticClass:"category-nav"},t._l(t.categories,(function(s){return a("button",{key:s,class:{active:t.currentCategory===s},on:{click:function(a){return t.fetchProducts(s)}}},[t._v(" "+t._s(s)+" ")])})),0),a("div",{staticClass:"main-content"},[a("div",{staticClass:"product-list"},t._l(t.products,(function(s){return a("div",{key:s._id,staticClass:"product-item"},[a("router-link",{attrs:{to:"/goods/"+s._id}},[a("img",{staticClass:"product-image",attrs:{src:s.image[0],alt:"product image"}}),a("div",{staticClass:"product-info"},[a("h2",[t._v(t._s(s.name))]),a("p",[t._v(t._s(s.description))]),a("span",{staticClass:"product-price"},[t._v("Price: $"+t._s(s.price))])])])],1)})),0)]),t.isLoading?a("div",{staticClass:"loading"},[t._v("加载中...")]):t._e()],1)},e=[],c={data(){return{products:[],slideshow:[],isLoading:!1,currentCategory:"CPU",categories:["CPU","GPU","苹果","协处理器","其他"]}},methods:{async fetchProducts(t){this.isLoading=!0;try{const s=await this.$http.get("products?category="+t);this.products=s.data}catch(s){console.error("获取商品数据失败",s)}finally{this.isLoading=!1}},async fetchSlideshow(){try{const t=await this.$http.get("slideshows");this.slideshow=await Promise.all(t.data.map(async t=>{const s=await this.$http.get("products/"+t.productId);return s.data}))}catch(t){console.error("获取轮播图数据失败",t)}}},mounted(){this.fetchProducts(this.currentCategory),this.fetchSlideshow()}},r=c,o=(a("fb3b"),a("d34b")),n=Object(o["a"])(r,i,e,!1,null,"36a5333a",null);s["default"]=n.exports},f99e:function(t,s,a){},fb3b:function(t,s,a){"use strict";a("f99e")}}]);