(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-181a6afa"],{"178f":function(t,a,s){"use strict";s("59ad")},"59ad":function(t,a,s){},d2f1:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"home",attrs:{id:"home",name:"home"}},[t.carousel.length>0?s("el-carousel",{staticClass:"zoom-image",attrs:{interval:5e3,arrow:"always"}},t._l(t.carousel[0].image,(function(t,a){return s("el-carousel-item",{key:a},[s("img",{staticClass:"image",attrs:{src:t}})])})),1):s("el-empty",{staticStyle:{"text-align":"center","margin-top":"100px"},attrs:{description:"抱歉，暂时还没有该分类的图片"}}),s("div",{staticClass:"main-box"},[s("div",{staticClass:"main"},t._l(t.categoryData,(function(a,e){return s("div",{key:e,staticClass:"product-category"},[s("div",{staticClass:"box-title"},[s("div",{staticClass:"title"},[t._v(t._s(a.name))]),s("div",{staticClass:"more"},[t._v("更多商品>")])]),s("div",{staticClass:"box-bd"},[a.productList&&a.productList.length>0?s("el-row",{attrs:{gutter:20}},t._l(a.productList,(function(a,e){return s("el-col",{key:e,attrs:{span:6}},[s("el-card",{staticClass:"card-view"},[s("router-link",{attrs:{to:"/goods/"+a._id}},[s("div",{staticClass:"box-img"},[s("img",{staticClass:"image",attrs:{src:a.image[0]}})]),s("div",{staticClass:"title"},[t._v(t._s(a.name))])])],1)],1)})),1):s("div",{staticStyle:{padding:"10px","font-weight":"800","font-size":"large"}},[t._v("暂时该条目没有商品展示")])],1)])})),0)])],1)},i=[],o={data(){return{carousel:[],categoryData:[{name:"CPU",productList:[]},{name:"GPU",productList:[]},{name:"苹果",productList:[]},{name:"协处理器",productList:[]},{name:"其他",productList:[]}]}},async created(){await this.loadCategoryData(),console.log(this.categoryData)},methods:{async fetchSlideshow(){try{const t=await this.$http.get("slideshows");this.carousel=await Promise.all(t.data.map(async t=>{const a=await this.$http.get("products/"+t.productId);return a.data})),console.log("轮播图",this.carousel)}catch(t){console.error("获取轮播图数据失败",t)}},async loadCategoryData(){console.log("加载数据前",this.categoryData);for(let t=0;t<this.categoryData.length;t++)this.categoryData[t].productList=await this.getPromo(this.categoryData[t].name,this.categoryData[t].productList),console.log("加载数据后",this.categoryData[t].productList);console.log("商品",this.categoryData)},async getPromo(t,a){try{const s=await this.$http.get("products",{params:{category:t,page:1,limit:8}});return a=s.data,a}catch(s){return Promise.reject(s)}}}},r=o,c=(s("178f"),s("d34b")),l=Object(c["a"])(r,e,i,!1,null,"3f2cd7a6",null);a["default"]=l.exports}}]);